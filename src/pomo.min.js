!function(ctx){var sprintf,vsprintf,isBrowser,escapeString,unescapeString,Errors,Pomo,instance,noop=function(){}
    String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),sprintf=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)}
        return r.format=function(r,n){var s,a,i,o,l,u,p,c=1,d=r.length,f="",m=[]
            for(a=0;d>a;a++)if(f=e(r[a]),"string"===f)m.push(r[a])
            else if("array"===f){if(o=r[a],o[2])for(s=n[c],i=0;i<o[2].length;i++){if(!s.hasOwnProperty(o[2][i]))throw sprintf('[sprintf] property "%s" does not exist',o[2][i])
                s=s[o[2][i]]}else s=o[1]?n[o[1]]:n[c++]
                if(/[^s]/.test(o[8])&&"number"!=e(s))throw sprintf("[sprintf] expecting number but found %s",e(s))
                switch(o[8]){case"b":s=s.toString(2)
                    break
                    case"c":s=String.fromCharCode(s)
                        break
                    case"d":s>>=0
                        break
                    case"e":s=o[7]?s.toExponential(o[7]):s.toExponential()
                        break
                    case"f":s=o[7]?parseFloat(s).toFixed(o[7]):parseFloat(s)
                        break
                    case"o":s=s.toString(8)
                        break
                    case"s":s=(s+="")&&o[7]?s.substring(0,o[7]):s
                        break
                    case"u":s=Math.abs(s)
                        break
                    case"x":s=s.toString(16)
                        break
                    case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(o[8])&&o[3]&&s>=0?"+"+s:s,u=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",p=o[6]-(s+"").length,l=o[6]?t(u,p):"",m.push(o[5]?s+l:l+s)}return m.join("")},r.cache={},r.parse=function(e){for(var t,r,n,s=e,a=[],i=[],o=0;s;){if(null!==(a=/^[^\x25]+/.exec(s)))i.push(a[0])
        else if(null!==(a=/^\x25{2}/.exec(s)))i.push("%")
        else{if(null===(a=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(s)))throw"[sprintf] huh?"
            if(a[2]){if(o|=1,t=[],r=a[2],n=[],null===(n=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?"
                for(t.push(n[1]);""!==(r=r.substring(n[0].length));)if(null!==(n=/^\.([a-z_][a-z_\d]*)/i.exec(r)))t.push(n[1])
                else{if(null===(n=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?"
                    t.push(n[1])}a[2]=t}else o|=2
            if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported"
            i.push(a)}s=s.substring(a[0].length)}return i},r}(),vsprintf=function(e,t){return t.unshift(e),sprintf.apply(null,t)},isBrowser=function(){return"undefined"!=typeof window&&!!document&&!!document.getElementsByTagName},escapeString=function(e){var t
        return""!=e.constructor&&(t=e),e.replace&&(t=e.replace(/[\"]/g,'\\"').replace(/[\\]/g,"\\").replace(/[\/]/g,"/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")),t},unescapeString=function(e){var t
        return e&&e.replace&&(t=e.replace("\\n","\n").replace("\\r","\r").replace("\\t","	").replace("\\f","\f").replace("\\b","\b").replace("\\r","\r")),t},Errors={},Errors.CustomError=function(e){this.name="CustomError",this.message=e,this.stack=Error().stack},Errors.UnknownEntryError=function(e,t){var r
        e=e?e:"malformed",t=t?t:"default_domain",r="Message ID '"+e+"' not found in domain '"+t+"'",Errors.CustomError.call(this,r),this.name="UnknownEntryError"},Errors.UnknownEntryError.prototype=Errors.CustomError.prototype,Errors.UnknownEntryError.prototype.constructor=Errors.CustomError,Errors.UnknownAcquisitionModeError=function(e){var t
        e=e?e:"None provided",t='PO files acquisition mode: "'+e+'" is not valid.',Errors.CustomError.call(this,t),this.name="UnknownAcquisitionModeError"},Errors.UnknownAcquisitionModeError.prototype=Errors.CustomError.prototype,Errors.UnknownAcquisitionModeError.prototype.constructor=Errors.CustomError,Errors.FileReaderError=function(e){var t="Adapter cannot read from file: "+e
        CustomError.call(this,t),this.name="FileReaderError"},Errors.FileReaderError.prototype=Errors.CustomError.prototype,Errors.FileReaderError.prototype.constructor=Errors.CustomError,Pomo=function(){this.VERSION="0.1.3",this.domain="messages",this.returnStrings=!1,this.unescapeStrings=!1
        var me=this,Parser,Adapters={},getWaiter,entryExists
        getWaiter=function(){var e={ready:function(t){me.waiting?setTimeout(function(){e.ready(t)},20):t.apply(me,[])}}
            return e},Adapters.Base=function(e){this.toString=function(){return"[object Adapter]"},this.domain=e},Adapters.Base.prototype={loadContents:null},Adapters.StringAdapter=function(e,t){Adapters.Base.call(this,t),this.parsed=null,this.unparsed=""+e},Adapters.StringAdapter.prototype={loadContents:function(){me.waiting=!0,null===this.parsed&&(this.parsed=Parser.POFiles.parse(this.unparsed,this.domain)),me.storage.contents=this.parsed,me.waiting=!1}},Adapters.StringAdapter.constructor=Adapters.Base,isBrowser()?(Adapters.LinkAdapter=function(e){Adapters.Base.call(this,e)},Adapters.LinkAdapter.prototype={loadContents:function(){var e,t,r,n,s,a
            for(me.waiting=!0,e=document.getElementsByTagName("link"),r=Adapters.AjaxAdapter,n=0,s=e.length;s>n;n++)t=e[n],t&&t.getAttribute("type")&&t.getAttribute("href")&&"text/x-gettext-translation"===t.getAttribute("type")&&(a=new r(t.getAttribute("href"),this.domain),a.loadContents())}},Adapters.LinkAdapter.constructor=Adapters.Base,Adapters.AjaxAdapter=function(e,t){Adapters.Base.call(this,t),this.url=e,this.doRequest=function(e,t,r){var n=new XMLHttpRequest
            n.open("GET",e,!0),t=t?t:noop,r=r?r:noop
            try{n.onreadystatechange=function(){var e={error:!0}
                4===this.readyState&&(this.status>=200&&this.status<400?(e=this.responseText,t.call(t,e)):r.call(r,e))},n.send()}catch(s){r.call(r,{error:!0})}n=null}},Adapters.AjaxAdapter.prototype={loadContents:function(){var e=this.domain
            me.waiting=!0,this.doRequest(this.url,function(t){var r=new Adapters.StringAdapter(t,e)
                r.loadContents()})}}):(Adapters.FileAdapter=function(e,t){Adapters.Base.call(this,t),this.path=""+e},Adapters.FileAdapter.prototype={loadContents:function(){me.waiting=!0,require("fs").readFile(this.path,"utf-8",function(e,t){if(e)throw new Errors.FileReaderError(e.path)
            me.storage.contents=Parser.POFiles.parse(t,this.domain),me.waiting=!1})}}),entryExists=function(e,t){return!!(me.storage&&me.storage.contents&&me.storage.contents[e]&&me.storage.contents[e][t])},me.storage={},Parser={},Parser.Object=function(e){var t,r=1
            for(t in e)this[t]=e[t]
            this.setCount=function(e){r=e>>0},this.toString=function(){var e,t,n=!this.isPlural&&this.plural_forms&&this.plural_forms.push&&!!me.storage.calculatePluralIndex
                return n?(t=me.storage.calculatePluralIndex(r),e=this.plural_forms[t]):e=this.translation,e}},Parser.POFiles={parse:function(text,translation_domain){var has_header_info,header_info,part,parts,message,part_lines,line,escaped,next_line,line_telltale,next_line_telltale,possible,cases,getTelltale=function(e){return e.substring(0,12).split(" ")[0].trim()},isMultilinePlural=function(e){return!!e&&e.match(/msgstr\[[0-9]\]/)},extractHeaderInfo=function(header){var i,j,header_line,plural_form,header_lines=header.split("\n")
            for(i=0,j=header_lines.length;j>i;i++)header_line=header_lines[i],0===header_line.indexOf('"Plural-Forms: nplurals')&&(plural_form=header_line.substring(14).slice(0,-1),me.storage.calculatePluralIndex=function(phrase_count){return eval(unescapeString(plural_form)),"undefined"==typeof plural&&(plural=0),plural})},multilineExtract=function(e){for(var t,r=[];t=e.shift();){if(t=t.trim(),0!==t.indexOf('"')){e.unshift(t)
            break}r.push(t.substring(1).slice(0,-1))}return r.join("")},parsed={},domain=void 0===translation_domain?"messages":translation_domain,counter=0
            for(text=text.replace(/\r\n|\r/g,"\n"),parsed[domain]={},parts=text.split(/\n\n/),header_info=parts.shift(),has_header_info=extractHeaderInfo(header_info),has_header_info?me.storage.header_info=extractHeaderInfo(has_header_info):parts.unshift(header_info);part=parts.shift();){for(message={},part_lines=part?part.split(/\n/):[],line="";line=part_lines.shift();)switch(line=line.trim(),next_line=part_lines.slice(0,-1)[0],line_telltale=getTelltale(line),next_line_telltale=next_line?getTelltale(next_line):!1,line_telltale){case"msgctxt":message.context=line.substring(9).slice(0,-1)
                break
                case"msgid_plural":message.isPlural=!0,message.plural_id=line.substring(14).slice(0,-1)
                    break
                case"msgid":0===line.indexOf('msgid ""')?(possible=next_line.trim(),0===possible.indexOf('"')&&(message.id=multilineExtract(part_lines))):(next_line_telltale="msgstr")&&(message.id=line.substr(7).slice(0,-1))
                    continue
                case"msgstr":0===line.indexOf('msgstr ""')?(possible=next_line.trim(),0===possible.indexOf('"')&&(message.translation=multilineExtract(part_lines))):message.translation=line.substr(8).slice(0,-1)
                    break
                case"#:":case"#.":case"#":continue
                case"#,":break
                default:if(isMultilinePlural(line)){for(cases=[];isMultilinePlural(line);)cases.push(line.substring(10).slice(0,-1)),line=part_lines.shift()
                    message.plural_forms=cases,message.translation=cases[0]}continue}message.id&&message.translation&&(message=new Parser.Object(message),escaped=escapeString(message.id),parsed[domain][message.id]?parsed[domain][escaped].push(message):parsed[domain][escaped]=[message]),counter++}return parsed},generate:function(){throw"Feature unimplemented"}},this.wipe=function(){me.storage.contents={}},this.load=function(e,t){t=t?t:{}
            var r,n=t.mode?t.mode:!1,s=t.translation_domain?t.translation_domain:"messages"
            switch(n){case"literal":r=new Adapters.StringAdapter(e,s)
                break
                case"file":r=new Adapters.FileAdapter(e,s)
                    break
                case"link":r=new Adapters.LinkAdapter(s)
                    break
                case"ajax":r=new Adapters.AjaxAdapter(e,s)
                    break
                default:throw new Errors.UnknownAcquisitionModeError(n)}return r.loadContents(),getWaiter()},this.getText=function(e,t){var r,n,s,a,i,o,l,u,p,c,d,f
            if(e=e.split(/\n/).join(""),t=t?t:{},r=t.variables?t.variables:[],n=t.context?t.context:!1,s=t.domain?t.domain:"messages",a=t.count?t.count:!1,i=escapeString(e),s||me.domain?me.domain=s&&!me.domain?s:s:s=me.domain="messages",entryExists(s,i)){if(o=me.storage.contents[s][i],n)for(l=0,u=o.length;u>l;l++)if(o.context&&o.context===n){p=o[l]
                break}return o.unshift&&(o=o[0]),a&&o.setCount(a),p=o,c=""===o.constructor,me.returnStrings&&(p=""+o),r&&(d=c?p:p.translation,f=vsprintf(d,r),c?p=f:p.translation=f),c&&me.unescapeStrings?p=unescapeString(p):me.unescapeStrings&&!c&&(p.translation=unescapeString(p.translation)),p}throw new Errors.UnknownEntryError(e,s)},this.getMap=function(){return me.storage.contents}},instance=new Pomo,"undefined"!=typeof module?module.exports=instance:window.Pomo=instance}(this)
